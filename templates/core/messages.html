<!DOCTYPE html>
<html class="dark" lang="ja">
  <head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
    <title>メッセージ一覧 - Circle Room</title>

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>

    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#0dccf2",
              "background-light": "#ffffff",
              "background-dark": "#16191d",
              "surface-dark": "#24282d",
            },
            fontFamily: { display: ["Plus Jakarta Sans", "sans-serif"] },
            borderRadius: { DEFAULT: "0.25rem", lg: "0.5rem", xl: "0.75rem", full: "9999px" },
          },
        },
      };
    </script>

    <style>
      .ios-blur { backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); }
      body { -webkit-tap-highlight-color: transparent; min-height: max(884px, 100dvh); }
      .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
    </style>
  </head>

  <body class="bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white">
    <!-- Top -->
    <div class="sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 ios-blur">
      <div class="flex items-center justify-between px-6 pt-4 pb-2">
        <h1 class="text-2xl font-bold tracking-tight">メッセージ</h1>
        <div class="flex gap-4">
          <button class="flex items-center justify-center size-10 rounded-full bg-slate-100 dark:bg-surface-dark text-slate-600 dark:text-slate-300">
            <span class="material-symbols-outlined text-[22px]">edit_square</span>
          </button>
          <button class="flex items-center justify-center size-10 rounded-full bg-slate-100 dark:bg-surface-dark text-slate-600 dark:text-slate-300">
            <span class="material-symbols-outlined text-[22px]">settings</span>
          </button>
        </div>
      </div>

      <!-- Search -->
      <div class="px-4 py-3">
        <label class="flex flex-col min-w-40 h-11 w-full">
          <div class="flex w-full flex-1 items-stretch rounded-xl h-full overflow-hidden bg-slate-100 dark:bg-surface-dark">
            <div class="text-slate-400 dark:text-slate-500 flex items-center justify-center pl-4">
              <span class="material-symbols-outlined">search</span>
            </div>
            <input class="form-input flex w-full min-w-0 flex-1 border-none bg-transparent focus:ring-0 text-base font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500 px-3"
                   placeholder="サークル名や名前で検索" value=""/>
          </div>
        </label>
      </div>
    </div>

    <!-- List -->
    <main class="pb-24">
      <div class="flex flex-col">

        <!-- Unread -->
        <div class="flex items-center gap-4 px-4 py-4 hover:bg-slate-50 dark:hover:bg-surface-dark transition-colors cursor-pointer border-b border-slate-100 dark:border-white/5">
          <div class="relative">
            <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-14 ring-2 ring-primary/20"
                 style='background-image:url("https://images.unsplash.com/photo-1520975958225-d6c9a35a9dd7?auto=format&fit=crop&w=200&q=70");'></div>
            <div class="absolute bottom-0 right-0 size-4 bg-primary rounded-full border-2 border-background-light dark:border-background-dark"></div>
          </div>

          <div class="flex flex-col flex-1 min-w-0">
            <div class="flex justify-between items-baseline mb-0.5">
              <div class="flex items-center gap-1.5 overflow-hidden">
                <p class="text-slate-900 dark:text-white text-base font-bold truncate">テニス同好会 代表</p>
                <span class="px-1.5 py-0.5 rounded bg-primary/10 text-primary text-[10px] font-bold uppercase tracking-wider">Circle</span>
              </div>
              <p class="text-primary text-xs font-semibold shrink-0">2 分前</p>
            </div>
            <p class="text-slate-600 dark:text-slate-400 text-sm font-medium line-clamp-1">
              新歓への参加、お待ちしています！もし質問があれば何でも聞いてくださいね。
            </p>
          </div>

          <div class="shrink-0 flex items-center">
            <div class="size-2.5 rounded-full bg-primary shadow-[0_0_8px_rgba(13,204,242,0.6)]"></div>
          </div>
        </div>

        <!-- Unread -->
        <div class="flex items-center gap-4 px-4 py-4 hover:bg-slate-50 dark:hover:bg-surface-dark transition-colors cursor-pointer border-b border-slate-100 dark:border-white/5">
          <div class="relative">
            <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-14 ring-2 ring-primary/20"
                 style='background-image:url("https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=200&q=70");'></div>
          </div>

          <div class="flex flex-col flex-1 min-w-0">
            <div class="flex justify-between items-baseline mb-0.5">
              <p class="text-slate-900 dark:text-white text-base font-bold truncate">佐藤 健太</p>
              <p class="text-primary text-xs font-semibold shrink-0">15 分前</p>
            </div>
            <p class="text-slate-600 dark:text-slate-400 text-sm font-medium line-clamp-1">
              明日の新歓、18時に駅前集合で大丈夫かな？
            </p>
          </div>

          <div class="shrink-0 flex items-center">
            <div class="size-2.5 rounded-full bg-primary shadow-[0_0_8px_rgba(13,204,242,0.6)]"></div>
          </div>
        </div>

        <!-- Read -->
        <div class="flex items-center gap-4 px-4 py-4 hover:bg-slate-50 dark:hover:bg-surface-dark transition-colors cursor-pointer border-b border-slate-100 dark:border-white/5">
          <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-14 grayscale-[0.2]"
               style='background-image:url("https://images.unsplash.com/photo-1511379938547-c1f69419868d?auto=format&fit=crop&w=200&q=70");'></div>

          <div class="flex flex-col flex-1 min-w-0">
            <div class="flex justify-between items-baseline mb-0.5">
              <p class="text-slate-700 dark:text-slate-200 text-base font-semibold truncate">軽音部 Circle Room 支店</p>
              <p class="text-slate-400 dark:text-slate-500 text-xs font-normal shrink-0">1 時間前</p>
            </div>
            <div class="flex items-center gap-1">
              <span class="material-symbols-outlined text-sm text-slate-400">done_all</span>
              <p class="text-slate-400 dark:text-slate-500 text-sm font-normal line-clamp-1">承知いたしました。お待ちしております。</p>
            </div>
          </div>
        </div>

        <button class="py-6 text-primary text-sm font-bold flex items-center justify-center gap-2">
          過去のメッセージを表示
          <span class="material-symbols-outlined text-lg">keyboard_arrow_down</span>
        </button>
      </div>
    </main>

    <!-- Bottom Nav（投稿作成なし） -->
    <nav class="fixed bottom-0 left-0 right-0 z-50 bg-background-light/95 dark:bg-background-dark/95 ios-blur border-t border-slate-100 dark:border-white/5 pb-safe pt-2">
      <div class="flex justify-around items-center px-2">
        <button class="flex flex-col items-center gap-1 w-full text-slate-400 dark:text-slate-500">
          <span class="material-symbols-outlined text-[26px]">home</span>
          <span class="text-[10px] font-bold">ホーム</span>
        </button>
        <button class="flex flex-col items-center gap-1 w-full text-slate-400 dark:text-slate-500">
          <span class="material-symbols-outlined text-[26px]">search</span>
          <span class="text-[10px] font-bold">検索</span>
        </button>
        <button class="flex flex-col items-center gap-1 w-full text-primary">
          <span class="material-symbols-outlined text-[26px]" style="font-variation-settings:'FILL' 1;">chat_bubble</span>
          <span class="text-[10px] font-bold">メッセージ</span>
        </button>
        <button class="flex flex-col items-center gap-1 w-full text-slate-400 dark:text-slate-500">
          <span class="material-symbols-outlined text-[26px]">person</span>
          <span class="text-[10px] font-bold">プロフィール</span>
        </button>
      </div>
    </nav>
  </body>
</html>

{% include "core/nav.html" %}
